# 数据探索器模板

当 playground 是关于数据查询、API、管道或结构化配置时使用此模板：SQL 构建器、API 设计器、正则表达式构建器、管道可视化、cron 计划。

## 布局

```
+-------------------+----------------------+
|                   |                      |
|  控件             |  格式化输出          |
|  按以下分组:      |  (语法高亮          |
|  • 源/表           |   代码，或          |
|  • 列/字段         |   可视化图表)        |
|  • 过滤器          |                      |
|  • 分组            |                      |
|  • 排序            |                      |
|  • 限制            |                      |
|                   +----------------------+
|                   |  提示词输出          |
|                   |  [ 复制提示词 ]      |
+-------------------+----------------------+
```

## 按决策分类的控件类型

| 决策 | 控件 | 示例 |
|---|---|---|
| 从可用项中选择 | 可点击的卡片/芯片 | 表名、列、HTTP 方法 |
| 添加过滤器/条件行 | 添加按钮 → 下拉列表 + 输入的行 | WHERE 列 操作符 值 |
| 连接类型或聚合 | 每行的下拉列表 | INNER/LEFT/RIGHT、COUNT/SUM/AVG |
| 限制/偏移 | 滑块 | 结果数量 1–500 |
| 排序 | 下拉列表 + ASC/DESC 切换 | 按列排序 |
| 开/关功能 | 切换开关 | 显示描述、包含标题 |

## 预览渲染

使用带有颜色类的 `<span>` 标签渲染语法高亮输出：

```javascript
function renderPreview() {
  const el = document.getElementById('preview');
  // 按标记类型着色
  el.innerHTML = sql
    .replace(/\b(SELECT|FROM|WHERE|JOIN|ON|GROUP BY|ORDER BY|LIMIT)\b/g, '<span class="kw">$1</span>')
    .replace(/\b(users|orders|products)\b/g, '<span class="tbl">$1</span>')
    .replace(/'[^']*'/g, '<span class="str">$&</span>');
}
```

对于管道风格的 playground，使用带有箭头连接器的定位 div 渲染水平或垂直流程图。

## 数据的提示词输出

将其构建为要构建内容的规范，而不是原始查询本身：

> "编写一个 SQL 查询，将订单与用户按 user_id 连接，过滤 2024-01-01 之后且总额 > $50 的订单，按用户分组，并返回按订单数排名的前 10 位用户。"

包含架构上下文（表名、列类型），使提示词自包含。

## 示例主题

- SQL 查询构建器（表、连接、过滤器、分组、排序、限制）
- API 端点设计器（路由、方法、请求/响应字段构建器）
- 数据转换管道（源 → 过滤器 → 映射 → 聚合 → 输出）
- 正则表达式构建器（示例字符串、匹配组、实时高亮）
- Cron 计划构建器（可视化时间线、间隔、日期切换）
- GraphQL 查询构建器（类型选择、字段选择器、嵌套解析器）
