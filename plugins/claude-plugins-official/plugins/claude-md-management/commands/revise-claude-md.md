---
description: 使用本次会话的学习内容更新 CLAUDE.md
allowed-tools: Read, Edit, Glob
---

审查本次会话中关于在此代码库中使用 Claude Code 的学习内容。用有助于未来 Claude 会话更有效工作的上下文更新 CLAUDE.md。

## 步骤 1：反思

哪些缺失的上下文本可以帮助 Claude 更有效地工作？
- 使用或发现的 Bash 命令
- 遵循的代码风格模式
- 有效的测试方法
- 环境/配置的特殊之处
- 遇到的警告或注意事项

## 步骤 2：查找 CLAUDE.md 文件

```bash
find . -name "CLAUDE.md" -o -name ".claude.local.md" 2>/dev/null | head -20
```

确定每个添加内容应该放在哪里：
- `CLAUDE.md` - 团队共享（已提交到 git）
- `.claude.local.md` - 个人/本地专用（已被 git 忽略）

## 步骤 3：起草添加内容

**保持简洁** - 每个概念一行。CLAUDE.md 是提示词的一部分，因此简洁很重要。

格式：`<命令或模式>` - `<简要描述>`

避免：
- 冗长的解释
- 显而易见的信息
- 不太可能再次发生的一次性修复

## 步骤 4：显示建议的更改

对于每个添加项：

```
### 更新：./CLAUDE.md

**原因：** [一行原因]

\`\`\`diff
+ [添加内容 - 保持简短]
\`\`\`
```

## 步骤 5：获得批准后应用

询问用户是否想要应用这些更改。只编辑编辑他们批准的文件。
