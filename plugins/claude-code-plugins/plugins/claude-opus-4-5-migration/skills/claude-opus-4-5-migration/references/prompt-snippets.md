# Opus 4.5 提示词片段

仅在用户明确请求或报告特定问题时应用这些片段。默认情况下，迁移应仅更新模型字符串。

## 1. 工具过度触发

**问题**：为减少之前模型触发不足而设计的提示词可能导致 Opus 4.5 过度触发。

**何时添加**：用户报告工具被过于频繁或不必要地调用。

**解决方案**：用正常措辞替换激进语言。

| 之前 | 之后 |
|--------|-------|
| `CRITICAL: You MUST use this tool when...` | `Use this tool when...` |
| `ALWAYS call the search function before...` | `Call the search function before...` |
| `You are REQUIRED to...` | `You should...` |
| `NEVER skip this step` | `Don't skip this step` |

## 2. 防止过度工程

**问题**：Opus 4.5 可能创建额外的文件、添加不必要的抽象或构建未请求的灵活性。

**何时添加**：用户报告不需要的文件、过度抽象或未请求的功能。

**要添加到系统提示词的片段**：

```
- 避免过度工程。只进行直接请求或明确必要的更改。保持解决方案简单且专注。
- 不要添加功能、重构代码或进行超出要求的"改进"。错误修复不需要清理周围的代码。简单的功能不需要额外的可配置性。
- 不要为不可能发生的场景添加错误处理、回退或验证。信任内部代码和框架保证。仅在系统边界（用户输入、外部 API）进行验证。当您可以直接更改代码时，不要使用向后兼容性填充程序。
- 不要为一次性操作创建帮助器、实用程序或抽象。不要为假设的未来需求设计。正确的复杂度是当前任务所需的最小值。尽可能重用现有抽象并遵循 DRY 原则。
```

## 3. 代码探索

**问题**：Opus 4.5 可能在不阅读代码的情况下提出解决方案或对未读文件做出假设。

**何时添加**：用户报告模型在未检查相关代码的情况下提出修复方案。

**要添加到系统提示词的片段**：

```
在提出代码编辑之前，始终阅读并理解相关文件。不要对您未检查的代码进行推测。如果用户引用特定文件/路径，您必须在解释或提出修复之前打开并检查它。在搜索代码的关键事实时要严格和持久。在实现新功能或抽象之前，彻底审查代码库的风格、约定和抽象。
```

## 4. 前端设计质量

**问题**：默认的前端输出可能看起来很通用（"AI 垃圾"美学）。

**何时添加**：用户请求改进前端设计质量或报告输出看起来很通用。

**要添加到系统提示词的片段**：

```xml
<frontend_aesthetics>
您倾向于收敛到通用的、"分布上"的输出。在前端设计中，这会创建用户所说的"AI 垃圾"美学。避免这种情况：制作有创意、独特的前端，让人惊喜和愉悦。

关注：
- 排版：选择美丽、独特且有趣的字体。避免使用 Arial 和 Inter 等通用字体；选择提升前端美学的独特选择。
- 颜色和主题：致力于连贯的美学。使用 CSS 变量以保持一致性。具有鲜明重点的主导色优于胆小、均匀分布的调色板。从 IDE 主题和文化美学中汲取灵感。
- 动效：为效果和微交互使用动画。优先考虑 HTML 的纯 CSS 解决方案。在可用时为 React 使用 Motion 库。专注于高影响力的时刻：一个精心编排的页面加载与交错显示（animation-delay）比分散的微交互创造更多愉悦。
- 背景：创造氛围和深度，而不是默认使用纯色。分层 CSS 渐变、使用几何图案或添加与整体美学匹配的上下文效果。

避免通用的 AI 生成美学：
- 过度使用的字体系列（Inter、Roboto、Arial、系统字体）
- 陈词滥调的配色方案（特别是白色背景上的紫色渐变）
- 可预测的布局和组件模式
- 缺乏上下文特定特征的千篇一律的设计

创造性地解释并做出意外的选择，让人感觉是真正为上下文设计的。在明暗主题、不同字体、不同美学之间变化。您仍然倾向于在各代中收敛到常见的选择（例如 Space Grotesk）。避免这种情况：跳出框框思考至关重要！
</frontend_aesthetics>
```

## 5. 思考敏感性

**问题**：当未启用扩展思考（默认情况）时，Opus 4.5 对"think"一词及其变体特别敏感。

默认情况下不启用扩展思考。仅当 API 请求包含 `thinking` 参数时才启用：
```json
"thinking": {
    "type": "enabled",
    "budget_tokens": 10000
}
```

**何时应用**：用户在未启用扩展思考时（请求中没有 `thinking` 参数）报告与"thinking"相关的问题。

**解决方案**：用替代词替换"think"。

| 之前 | 之后 |
|--------|-------|
| `think about` | `consider` |
| `think through` | `evaluate` |
| `I think` | `I believe` |
| `think carefully` | `consider carefully` |
| `thinking` | `reasoning` / `considering` |

## 使用指南

1. **周到地集成** - 不要只是附加片段；将它们编织到现有的提示词结构中
2. **使用 XML 标签** - 用描述性标签（例如 `<coding_guidelines>`、`<tool_behavior>`）包装添加内容，这些标签与现有提示词结构匹配或补充
3. **匹配提示词风格** - 如果提示词简洁，则修剪片段；如果冗长，则保留完整细节
4. **逻辑放置** - 将编码片段放在其他编码说明附近，将工具指导放在工具定义附近，等等
5. **保留现有内容** - 插入片段而不删除功能性内容
6. **总结更改** - 迁移后，列出所有模型字符串更新和提示词修改
